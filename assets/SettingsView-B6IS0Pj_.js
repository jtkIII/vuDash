import{_ as h,a as i,o as u,b as c,p as E,t as g,q as b,n as $,F as I,f as R,w as T,s as z,v as B,x as y,r as C,y as O,d as n,e as d,u as S}from"./index-D0UBXXfo.js";const j={class:"settings-row"},Y={class:"info"},H={class:"label"},M={key:0,class:"description"},G={class:"control"},K={__name:"SettingsRow",props:{label:{type:String,required:!0},description:{type:String,default:""}},setup(t){return(a,e)=>(u(),i("div",j,[c("div",Y,[c("div",H,g(t.label),1),t.description?(u(),i("div",M,g(t.description),1)):E("",!0)]),c("div",G,[b(a.$slots,"default",{},void 0)])]))}},v=h(K,[["__scopeId","data-v-5483fb7d"]]),P=["aria-checked"],Q={__name:"SettingToggle",props:{modelValue:{type:Boolean,default:!1}},emits:["update:modelValue"],setup(t,{emit:a}){const e=t,o=a;function s(){o("update:modelValue",!e.modelValue)}return(f,m)=>(u(),i("button",{class:$(["toggle",{on:t.modelValue}]),role:"switch","aria-checked":t.modelValue,onClick:s},[...m[0]||(m[0]=[c("span",{class:"thumb"},null,-1)])],10,P))}},w=h(Q,[["__scopeId","data-v-c084bd92"]]),W={class:"settings-section"},X={class:"header"},Z={class:"title"},ee={key:0,class:"description"},te={class:"rows"},ae={__name:"SettingsSection",props:{title:{type:String,required:!0},description:{type:String,default:""}},setup(t){return(a,e)=>(u(),i("section",W,[c("header",X,[c("h2",Z,g(t.title),1),t.description?(u(),i("p",ee,g(t.description),1)):E("",!0)]),c("div",te,[b(a.$slots,"default",{},void 0)])]))}},le=h(ae,[["__scopeId","data-v-5b99dfb7"]]),ne=["value"],oe=["value"],se={__name:"SettingsSelect",props:{modelValue:{type:[String,Number],default:""},options:{type:Array,required:!0}},emits:["update:modelValue"],setup(t,{emit:a}){const e=a;function o(s){e("update:modelValue",s.target.value)}return(s,f)=>(u(),i("select",{class:"select",value:t.modelValue,onChange:o},[(u(!0),i(I,null,R(t.options,m=>(u(),i("option",{key:m.value,value:m.value},g(m.label),9,oe))),128))],40,ne))}},x=h(se,[["__scopeId","data-v-f78a9b0f"]]),ie=["type","value","placeholder"],ue={__name:"SettingInput",props:{modelValue:{type:[String,Number],default:""},type:{type:String,default:"text"},placeholder:{type:String,default:""}},emits:["update:modelValue"],setup(t,{emit:a}){const e=a;function o(s){e("update:modelValue",s.target.value)}return(s,f)=>(u(),i("input",{class:"input",type:t.type,value:t.modelValue,placeholder:t.placeholder,onInput:o},null,40,ie))}},U=h(ue,[["__scopeId","data-v-006bbef3"]]),re={__name:"SettingAction",props:{variant:{type:String,default:"default"}},emits:["click"],setup(t){return(a,e)=>(u(),i("button",{class:$(["action",t.variant]),type:"button",onClick:e[0]||(e[0]=o=>a.$emit("click"))},[b(a.$slots,"default",{},void 0)],2))}},N=h(re,[["__scopeId","data-v-aab96179"]]),de={class:"message"},ce={__name:"SettingsFooter",props:{dirty:{type:Boolean,default:!1},modelValue:Boolean,autoCommit:{type:Boolean,default:!0}},emits:["save","cancel","update:modelValue","commit"],setup(t,{emit:a}){const e=t,o=a;T(()=>e.modelValue,()=>{e.autoCommit&&o("commit")});const s=async()=>(o("cancel"),await z({title:"Canceled Changes",message:"Maybe this is for the best....",confirmText:"Ok Then",variant:"purple"})),f=async()=>(o("save"),await B({title:"Save Changes?",message:"Are you sure you want to save these changes?",confirmText:"Save?",cancelText:"Undo!",variant:"standard"}));return(m,p)=>(u(),i("div",{class:$(["settings-footer",{visible:t.dirty}])},[c("div",de,[b(m.$slots,"default",{},()=>[p[0]||(p[0]=y(" You have unsaved changes ",-1))])]),c("div",{class:"actions"},[c("button",{class:"btn secondary",type:"button",onClick:s}," Cancel "),c("button",{class:"btn primary",type:"button",onClick:f}," Save ")])],2))}},me=h(ce,[["__scopeId","data-v-14e601d9"]]);function pe(t){const a=C(V(t.value)),e=O(()=>V(t.value)!==a.value);function o(){a.value=V(t.value)}function s(){t.value=ve(a.value)}return{dirty:e,commit:o,reset:s}}function V(t){return JSON.stringify(t)}function ve(t){return JSON.parse(t)}const he={__name:"SettingsView",props:{modelValue:Boolean,autoCommit:{type:Boolean,default:!0}},emits:["update:modelValue","commit"],setup(t,{emit:a}){const e=C({hash:"",notificationsEnabled:!0,emailUpdates:!1,theme:"dark",username:"Jtk",crypto:"bitcoin"}),o={...e.value},s=O(()=>Object.keys(e.value).some(_=>e.value[_]!==o[_])),f=t,m=a;T(()=>f.modelValue,()=>{f.autoCommit&&m("commit")});const p=C({notifications:e.value.notificationsEnabled,theme:e.value.theme,username:e.value.username,hash:e.value.hash,crypto:e.value.crypto}),{dirty:J,commit:k}=pe(p),A=JSON.stringify(p.value);function F(){console.log(s.value),Object.assign(p.value,JSON.parse(JSON.stringify(p.value)))}function L(){p.value=JSON.parse(A)}const q=()=>{e.value.notificationsEnabled=!1,e.value.emailUpdates=!1,e.value.theme="dark",e.value.username="",e.value.crypto="bitcoin",e.value.hash=""},D=async()=>await B({title:"Unsaved changes",message:"You have unsaved changes. Leave without saving?",confirmText:"Leave",cancelText:"Stay",variant:"danger"});return(_,l)=>(u(),i(I,null,[n(le,{title:"Notifications",description:"Control how and when the app notifies you"},{default:d(()=>[n(v,{label:"Username",description:"This will be visible to other users"},{default:d(()=>[n(U,{modelValue:e.value.username,"onUpdate:modelValue":l[0]||(l[0]=r=>e.value.username=r),placeholder:"Enter username"},null,8,["modelValue"])]),_:1}),n(v,{label:"Enable notifications",description:"Allow system notifications"},{default:d(()=>[n(w,{modelValue:e.value.notificationsEnabled,"onUpdate:modelValue":l[1]||(l[1]=r=>e.value.notificationsEnabled=r),onCommit:S(k)},null,8,["modelValue","onCommit"])]),_:1}),n(v,{label:"Email updates",description:"Receive weekly summaries"},{default:d(()=>[n(w,{modelValue:e.value.emailUpdates,"onUpdate:modelValue":l[2]||(l[2]=r=>e.value.emailUpdates=r),onCommit:S(k)},null,8,["modelValue","onCommit"])]),_:1}),n(v,{label:"Theme",description:"Choose your preferred appearance"},{default:d(()=>[n(x,{modelValue:e.value.theme,"onUpdate:modelValue":l[3]||(l[3]=r=>e.value.theme=r),options:[{value:"light",label:"Light"},{value:"dark",label:"Dark"},{value:"system",label:"System"}]},null,8,["modelValue"])]),_:1}),n(v,{label:"Crypto",description:"Choose your preferred Crypto"},{default:d(()=>[n(x,{modelValue:e.value.crypto,"onUpdate:modelValue":l[4]||(l[4]=r=>e.value.crypto=r),options:[{value:"bitcoin",label:"Bitcoin"},{value:"ethereum",label:"Ethereum"},{value:"solana",label:"Solana"}]},null,8,["modelValue"])]),_:1}),n(v,{label:"Hash",description:"Enter the provided hash value"},{default:d(()=>[n(U,{modelValue:e.value.hash,"onUpdate:modelValue":l[5]||(l[5]=r=>e.value.hash=r),placeholder:"Enter hash"},null,8,["modelValue"])]),_:1}),n(v,{label:"Clear cache",description:"Remove locally stored temporary data"},{default:d(()=>[n(N,{onClick:D},{default:d(()=>[...l[6]||(l[6]=[y(" Clear Local Data ",-1)])]),_:1})]),_:1}),n(v,{label:"Reset settings",description:"Restore all settings to their default values"},{default:d(()=>[n(N,{variant:"danger",onClick:q},{default:d(()=>[...l[7]||(l[7]=[y(" Reset Settings ",-1)])]),_:1})]),_:1}),l[8]||(l[8]=y(" emailUpdates ",-1))]),_:1}),n(me,{dirty:S(J),onSave:F,onCancel:L},null,8,["dirty"])],64))}};export{he as default};
